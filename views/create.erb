<form action="/create" method="POST" id="create-form">
<fieldset>
    <legend>Create</legend>
<% if @showError %>
  <div class="alert alert-error">
    Error creating account.
  </div>
<% end %>
        <p>
            Once you create an account it must be activated before you can login. You will receive an 
            email with once your account is activated.
        </p>
    <div class="control-group">
        <label>Email Address:</label>
        <div class="input">
            <input type="email" id="email" name="email" />
        </div>
    </div>
    <div class="control-group">
        <label>Password:</label>
        <div class="input">
            <input type="password" id="password" name="password" />
        </div>
    </div>
    <div class="control-group">
        <label>Confirm Password:</label>
        <div class="input">
            <input type="password" id="confirm" name="confirm" />
        </div>
    </div>
    <div class="control-group">
        <button class="btn btn-primary" type="submit" name="signin">Create Account</button>
        <button class="btn cancel" type="reset" name="cancel">Cancel</button>
    </div>
</fieldset>
</form>
<script type="text/javascript">
  onInit(function () {
      $("#create-form").validate({ 
        rules: { 
          email: { required: true, email:true }, 
          password: { required: true, minlength: 6 },
          confirm: { required: true, minlength: 6 }
        },
        messages: {
          email: { requied: "An email address is required to login.", email: "The format of the email address was not reconginzed." },
          password: { requied: "Please enter a password.", minlength: "A password must be a least 6 characters long." },
          confirm: { requied: "Please enter a confirm password.", minlength: "A password must be a least 6 characters long." }
        },
        errorClass: "help-inline",
        errorElement: "span",
        highlight: function(element, errorClass, validClass) {
          $(element).closest('.control-group').addClass('error');
        },
        unhighlight: function(element, errorClass, validClass) {
          $(element).closest('.control-group').removeClass('error');
        },
      });
    });
</script>
